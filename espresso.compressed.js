var i=!0,o=null,q=!1;function r(){return function(){}}
(function(c,a,d,b,f,g){function j(){return N.apply(this,arguments)}function l(e,a){if(!e)return e;for(var d=e instanceof Array?e:e.split("."),b=a||window,c;c=d.shift();)if(!b[c]||!(b=b[c]))b=b[c]={};return b}function h(e){function b(e,d){var c;a.map(d,function(a){c=c||a===e});return c}function d(e,a,c,h){var g,a=a||{},c=c||[],h=h||[],m;for(m in e)g=e[m],c.push(m),"object"==typeof g&&g!==f&&!b(g,h)?h.push(g)&&d(g,a,c,h)&&h.pop():a[c.join(".")]=g,c.pop();return a}return d(e)}function s(e){function d(e,
a){for(var b in e)"object"==typeof e[b]?d(e[b],a):e[b]="string"==typeof e[b]?x(e[b],a):e[b];return e}return d(a.extend(i,{},e),h(e))}function m(e,a,b){b=b||S;if(a&&"undefined"==typeof b[e=e.toUpperCase()])b[e]=a;return b[e]}function y(e){return function(){return e}}function n(e,a){return e.replace(a?/^[a-z]/gi:/(?:\s|^)[a-z]/gi,function(e){return e.toUpperCase()})}function x(e,a){return e.replace(/{(.+?)}/g,function(e,b){return a[b]||""})}function L(e,a,b){return function(){return e.apply(b||this,
a||[])}}function B(e,a,b,d){var c=(e=e.split(".")).pop(),e=l(e,b);return d?e[c]=e[c.toUpperCase()]=e[n(c)]=a:e[c]=a}function w(){var e=arguments[0]||{},a=1,b=arguments.length,d=q,c;"boolean"===typeof e&&(d=e,e=arguments[1]||{},a=2);"object"!==typeof e&&!jQuery.Bb(e)&&(e={});b==a&&(e=this,--a);for(;a<b;a++)if((c=arguments[a])!=o){for(var h in c){var m=e[h],f=c[h];e!==f&&(d&&f&&"object"===typeof f&&!f.nodeType?e[h]=w(d,m||(f.length!=o?[]:{}),f):f!==g&&(e[h]=f))}c.hasOwnProperty("toString")&&(e.toString=
c.toString);c.hasOwnProperty("valueOf")&&(e.valueOf=c.valueOf)}return e}function C(e,a){if(!e)return e;for(var b=e instanceof Array?e:e.split("."),c=a||window,d;d=b.shift();)if(c[d])c=c[d];else return q;return i}function E(a){return Array.prototype.slice.call(a||arguments.callee.caller.arguments)}function N(e,b,c){function d(){y.pop().apply(o,n)}function h(a){return a!=q?"false"!=a:!!a}function f(a,e,b){if("undefined"!=typeof a)if("string"==typeof a)try{if(!eval(a.replace(m("R_USE_NO_INVOKE"),"")))return e}catch(d){}else if(!a)return e;
return b}for(var j=a.extend(i,{},F.X,c||{}),y=[],n=[],e=a.map([].concat(e),function(e,c){var p=a.extend(i,{},j);e.replace(m("R_USE_ATTRS"),function(a,e){var b=e.split("=");p[b[0]]=b[1]||i});p=s(p);e=e.replace(m("R_USE_REMOVE_STAR"),"").replace(m("R_USE_PATH"),"$1");y.push(0==c?b||a.d:a.d);return f(p.rb,d,function(){var b=p.H||e,f=C(b),j=[(p.Cb||p.na).replace(m("R_USE_ADD_SLASH"),"/"),e.replace(m("R_USE_DOT"),"/").replace(m(h(p.prefix)?"R_USE_LAST_SLASH":"R_USE_NOTHING"),"/"+(p.prefix||"")+"$1"),h(p.version)?
p.Qa:"",h(p.Sa||p.Ra)?p.ra:"",h(p.Ja||p.pa)?p.Ka:"",".js"].join("");n[c]=l(b);!p.ua&&(P[j]||f)&&!n[c].G?d():(n[c].G=i,a.za(j,function(){n[c]=P[j]=l(b);n[c].G=g;delete n[c].G;z[b]?z[b].p=d:d()}))})});e.length;)e.shift()();return 1==n.length?n[0]:n}function M(a,b,c,d){throw Error(x(m("LOGGING_TPL"),{type:"ERROR",Na:c,Ea:a,method:b,message:d}));}function A(){Array.prototype.shift.call(arguments)>=F.debug.Ia&&(f.console&&f.console.log||a.d).apply(f.console||o,arguments)}function G(e){return!f.console?
a.d:T?f.console.log:e}var F=w(i,{sb:f,Z:g,Ca:a,Da:q,ub:"prod",X:{na:"/",prefix:"",Ka:".compressed",Ja:q,pa:q,ra:".deps",version:"",Qa:"-{version}",Sa:q,Ra:q,H:"",ua:q},debug:{Ia:0}},b||{}),U={},S={},P={},z={},H,T=/MSIE+/i.test(f.navigator.userAgent);m("LOGGING_TPL","[{type}] in {klass}#{method}: {task}: {message} - Espresso");m("R_FUNC_NAME",/(?:function\s+((?:\w|\$)+)(?:\n|.)*)|(?:\n|.)*/);m("R_USE_ATTRS",/@(\w*(?:=[^\s]*)*)/g);m("R_USE_REMOVE_STAR",/(?:\.\*)/);m("R_USE_PATH",/^([0-9A-Za-z.]*).*/);
m("R_USE_NO_INVOKE",/(?:\(+[^)]*\))|(?:[^= ]+=+[^;]+)/g);m("R_USE_ADD_SLASH",/\/$|$/);m("R_USE_DOT",/\./g);m("R_USE_LAST_SLASH",/\/(\w*)$/);m("R_USE_NOTHING",/^$/);c=B("espresso",c||{},this,i);!d&&(f.Z=j);a||M("espresso","#[main]","Checking jQuery Dependency","jQuery dependency not found");A.o=function(a){return function(){A.apply(o,[a||0].concat(Array.prototype.slice.call(arguments)))}};var v=c.lang={z:{create:l},m:{create:function(e,b,c){var d=(e=e.split(".")).pop();return l(e,c)[d]=function(){var e=
{};a.I(arguments,function(a,b){e[a]=b});return Error(x(b,e))}}},a:{H:function(a,b,c,d){var h=(a=a.split(".")).pop();return l(a,d)[h]=function(a){c&&c(a);return new b(a)}},create:function(e,b,c,d){function h(){return function(c){if(s.B&&x)return x;if(!c&&!(this instanceof arguments.callee))return new arguments.callee;var d=b.apply(this,[a])||{},h;g=this;g.D=[];g.F=[];g.N=g.N||e;"string"==typeof n&&(n=l(n.replace(m("R_USE_PATH"),"$1")));y&&!c?M("espresso.lang.Class","create","Instantiating class","Cannot instantiate abstract class "+
e):n&&w(i,n.apply(this,[{C:d}])||{},d);if(c!==o&&"object"==typeof c&&c.C){for(h in y)"function"==typeof y[h]&&!c.C[h]&&M("espresso.lang.Class","create","Validating implementation of abstract class","Method "+e+"@"+h+" must be implemented.");g.D.push({Fa:d[j]||a.d,name:j});g.F.push(e);c.C["@parent"]=function(a){return d[a]?d[a].apply(d,Array.prototype.shift.apply(arguments)&&arguments):d[(""+arguments.callee.caller).replace(m("R_FUNC_NAME"),"$1")].apply(d,arguments)}}else{h=g.D;for(var f=[j],p=0;p<
h.length;++p)f.push(h[p].name);h=f;w(i,g,d)["@super"]=function(){return g.D.pop().Fa.apply(g,arguments)};(d[j]||a.d).apply(g,arguments);for(f=0;f<h.length;++f)delete g[h[f]];g.F.push(e);g.ka(g.F).ja(g.N).O(j).ia();s.B&&(x=g)}return w(i,g,d)}}var g,f=e?e.split("."):["[anonymous]"],j=f.pop(),s=c||{},y=s.Abstract,n=s.g||v.fa,c=[].concat("string"==typeof n?n:[],s.L||[]),x=o;c.length&&(z[e]=w(i,z[e]||{},{tb:c}),N(c,function(){z[e]&&z[e].p&&z[e].p();z[e]=o;delete z[e]}));return e?l(f,d)[j]=h():h()}},w:{create:function(e,
b){return v.a.create(e,a.d,{Abstract:b})}},M:{j:function(a,b,c){return N(a,"function"==typeof b?b:function(){H&&H.ta(b)},c)}}};v.a.create("espresso.lang.Object",function(a){var b,c;return{fa:r(),ka:function(a){c=a||[];return this},ja:function(a){b=a;return this},O:function(a){this[a]=g;delete this[a];return this},ia:function(){for(var a="__parents__ __setParents __constructors__ __classID__ __setClassID @super __cleanAll __clean".split(" "),b;b=a.shift();)this.O(b);return this},wa:function(){return b},
W:function(b){return-1<a.Ab("string"==typeof b?b:b.wa(),c)}}});a.I({"espresso.constant":function(a,b){return m(a,b,U)},"espresso.jQuery":a,"espresso.$":a,"espresso.load":a.za,"espresso.log":G(A),"espresso.debug":G(A.o(0)),"espresso.warn":G(A.o(1)),"espresso.error":G(A.o(2)),"espresso.trace":G(A.o(3)),"espresso.report":function(a,b,c,d,h){A(x(m("LOGGING_TPL"),{type:a,Na:d,Ea:b,method:c,message:h}))},"espresso.args":E,"espresso.curry":L,"espresso.copy":function(a){return function(){return a.apply(this,
arguments)}},"espresso.lambda":y,"espresso.vector":function(){var a=[];c.K.I(E(),function(b,c){a[c[0]]=c[1]});return a},"espresso.reflect":L(h,[c]),"espresso.ready":function(){1==arguments.length?a(arguments[0]):(H||(H=new c.Pa.ca({Q:i}))).Ha.apply(H,arguments)},"espresso.die":function(a){if(1<arguments.length)M.apply(o,arguments);else throw Error(a);},"espresso.flatten":h,"espresso.which":function(){for(var a=0;a<arguments.length;++a)if(arguments[a])return arguments[a]},"espresso.extend":w,"espresso.substitute":x,
"espresso.capitalize":n,"espresso.trim":function(a){return a.replace(/^\s*|\s*$/g,"")},"espresso.objectExists":C,"espresso.instanceOf":function(a,b){return a.W&&a.W(b)},"espresso.config":function(b){b="string"==typeof b?h(F)[b]:b?a.extend(i,F,b):a.extend(i,{},F);b.Da&&a.Eb(i);return b},"espresso.parseConfig":s,"espresso.require":v.M.j,"espresso.use":v.M.j,"espresso.version":y("0.5.6"),"espresso.Static":B,"espresso.Class":function(){"string"!=typeof arguments[0]&&Array.prototype.unshift.apply(arguments,
[o]);return v.a.create.apply(v.a,arguments)},"espresso.Namespace":v.z.create,"espresso.Package":v.z.create,"espresso.Error":v.m.create,"espresso.Alias":v.a.H,"espresso.Interface":v.w.create,"espresso.plugins":{}},B)})(this.k,this.Ca||this.K,this.Z,this.V,this,this.Ib);var t=this.k;t.c("espresso.util.Config.DefaultEnvironments",{fb:"prod",Xa:"dev"});t.c("espresso.util.Config.LoggingLevels",{Wa:0,ob:1,cb:2});var u=this.k;
u.w("espresso.util.TwoDIterator",{left:r(),right:r(),$:r(),S:r(),aa:r(),ba:r(),T:r(),U:r()});u.a("espresso.util.EventManager",function(c){function a(a,b){var c=new u.b.t(b);d.put(a,c);return c}var d,b,f={Q:q};return{ca:function(a){c.extend(f,a);d=new u.b.u;b=new u.b.u},Ha:function(c,j,l){var h=d.get(c);h?(h.add(j,l),f.Q&&h.Aa()&&(c=b.get(c),h.flush(c.P,c.scope))):a(c,j);return this},ta:function(c,f,l,h){var s=d.get(c);s||(s=a(c));s.flush(f,l,h);b.put(c,{P:f,scope:l});return this}}});var D=this.k;
function I(){}D.w("espresso.collections.List",{add:I,get:I,remove:I,size:I,l:I});
D.a("espresso.collections.LinkedList",function(){var c;return{e:function(a){c=a||[]},size:function(){return c.length},add:function(a,d){if(d==o)return c.push(a),this.size()-1;if(0>d||d>=_size())throw new D.b.e.v(d);c.splice(d,0,a);return d},get:function(a){if(0>a||a>=this.size())throw new D.b.e.v(a);return c[a]},replace:function(a,d){if(0>d||d>=this.size())throw new D.b.e.v(d);c[d]=a},remove:function(a){if(0>a||a>=this.size())throw new D.b.e.v(a);c.splice(a,1)},vb:function(){if(this.l())throw new D.b.e.ea;
return this.get(0)},xb:function(){if(this.l())throw new D.b.e.ea;return this.get(this.size()-1)},l:function(){return 0==this.size()},clear:function(){var a=this.size();0<a&&c.splice(0,a)},Oa:function(){return c.slice(0)},R:function(){return new D.b.e(this.l()?o:this.Oa())}}},{g:D.b.da});D.m("espresso.collections.LinkedList.IndexOutOfBoundsException","Index {0} out of bounds on espresso.collections.LinkedList object");D.m("espresso.collections.LinkedList.NoSuchElementException","No such element exists on espresso.collections.LinkedList object.");
D.a("espresso.collections.SparsedMatrix",function(){function c(a,c,d){var f=[a,c].join();j[f]||++l;return j[f]=new b(a,c,d||o)}function a(a,b){function d(a,b){return function(){return j[[a,b].join()]||c(a,b)}}g={$:d(a,b-1),left:d(a-1,b),S:d(a,b+1),right:d(a+1,b),ba:d(a+1,b-1),aa:d(a-1,b-1),U:d(a+1,b+1),T:d(a-1,b+1),h:d(a,b)}}function d(a){return function(){return f.move.call(f,a)}}function b(a,b,c){this.x=a;this.y=b;this.data=c}var f,g,j,l;return{jb:function(){f=this.clear()},get:function(a,b){return 0==
arguments.length?g.h().data:(j[[a,b].join()]||c(a,b)).data},set:function(b,d,f){var j;1>=arguments.length?(f=arguments[0],j=g.h(),b=j.x,d=j.y):a(b,d);c(b,d,f);return this},clear:function(){j={};l=0;a(0,0);return this},length:function(){return l},position:function(){var a=g.h();return{x:a.x,y:a.y}},move:function(b,c){var d;1==arguments.length&&(d=g[arguments[0]](),b=d.x,c=d.y);a(b,c);return this},toString:function(){var a=[],b;for(b in a)a.push("{"+b+"}");return["Length: "+l,"Iterator: "+(l?"{"+g.h().x+
","+g.h().y+"}":"null"),"Nodes: "+a.join(", ")].join("\n")},debug:function(a){a&&(a("Length",l),a("Iterator",l?{x:g.h().x,y:g.h().y}:o),a("Nodes",j))},$:d("up"),left:d("left"),S:d("down"),right:d("right"),ba:d("upright"),aa:d("upleft"),U:d("downright"),T:d("downleft")}},{g:D.Pa.kb});D.c("espresso.collections.SparsedMatrix.DirectionsEnum",{lb:"up",eb:"left",Ya:"down",ib:"right",mb:"upleft",nb:"upright",Za:"downleft",$a:"downright"});
D.a("espresso.collections.HashMap",function(){var c={},a,d;return{u:function(){var b=D.b.e;a=new b;d=new b;return this},put:function(b,f){if(c[b])d.replace(f,c[b]);else{var g=a.add(b);d.add(f);c[b]=g}return f},add:function(a,c){return this.put(a,c)},get:function(a){a=c[a];return a==o?o:d.get(a)},remove:function(b){if(!c[b])return this;var f=c[b];delete c[b];a.remove(f);d.remove(f);return this},clear:function(){for(var b in c)delete c[b];a.clear();d.clear()},wb:function(){return a.R()},yb:function(){return d.R()},
size:function(){return a.size()},l:function(){return 0==this.size()}}},{g:D.b.da});
D.a("espresso.collections.EventQueue",function(){function c(b){if(a.length)return a[b]()();throw new D.b.t.gb;}var a,d=q;return{t:function(b){a=[];this.add(b)},add:function(b,c){if(b instanceof Array)for(var d=0;d<b.length;++d)this.add(b[d]);else if("function"==typeof b)a[c?"unshift":"push"](b);return this},flush:function(b,c,g){var j=a;for(g&&(j=[].concat(a));g=j.shift();)g.apply(c,b instanceof Array?b:[b]);d=i;return this},step:function(){return c("shift")},pop:function(){return c("pop")},length:function(){return a.length},
Aa:function(){return d}}});D.m("espresso.collections.EventQueue.QueueDepletedException","The queue is empty. Nothing to execute.");var J=this.k,O=J.K;J.a("espresso.framework.Session",function(){return{ha:r()}});
J.a("espresso.framework.Process",function(c){var a,d,b,f,g;return{A:function(c,l,h){g=this;d=l;b=h;f=c;a=f.Y().add(this)},Ba:function(a){var l;f.va((d=d.split(".")).shift(),function(h){a=a||{};h=J.z(d.join("."),h)||h;l=h[b].apply(h,[].concat(a.P||[]))||new J.i.n;l.J(g);l.state(J.i.A.Ua);(a.qb||c.d)(l);f.Y().remove(this)});return l},path:function(){return d},oa:function(){return b},toString:function(){return""+a},valueOf:function(){return 1*a}}});J.c("espresso.framework.Process.READY",0);
J.c("espresso.framework.Process.COMPLETE",1);J.a("espresso.framework.collections.Processes",function(){var c,a;return{ga:function(){c={};a=[]},add:function(d){var b=a.push([d.path(),d.oa()]);c[b]=d;return b},remove:function(a){c[a]=void 0;delete c[a]}}});
J.a("espresso.framework.ProcessResult",function(){function c(c,b){return a[c]="undefined"!=typeof b?b:a[c]}var a={};return{n:function(a,b){b=b||{};this.value(a);this.state(b.state||J.i.A.hb);this.q(b.q);this.assert(b.assert);this.J(b.J)},value:function(a){return c("value",a)},state:function(d){return c("state",d||a.value)},J:function(a){return c("process",a)},q:function(c){J.extend(a,{q:c});return this},assert:function(c,b){J.extend(a,{assert:[c,b]});return this}}});
J.a("espresso.framework.Application",function(c){function a(a,d){return b.j(j.get(a),function(f){(d||c.d)(f.ya().f(b,J.La(m.pb[a])))})}function d(){l.length()&&l.flush()}var b,f,g,j,l,h,s,m={};return{r:function(d,n,m,L){var B=J.b,w=J.i;f=d;g=L;j=new B.u;l=new B.t;s=new w.ha;h=new w.b.ga;b=this.Ma(n);var d=J.La(m||{}),n=d.Hb,C;for(C in n)j.put(C,n[C]);if(d.la){var E=d.la;b.j(c.map(E,function(a){return j.get(a)}),function(){c.map(E,function(b){a(b)});b.f()})}else b.f();return this},Ma:function(a){var b=
this.getContext().V,b=J.extend(i,(a||{}).k,this.getContext().V);J.qa(b);J.extend(i,m,b||{},a);return this},getContext:function(){return g},xa:function(){return m},getName:function(){return f},Db:function(b,c){a(b,c);return this},va:function(b,c){var d=a(b,c);return"function"==typeof d?d.ya():o},j:function(a,b,c){return J.j(a,b,c||m.X)},sa:function(a){l.add(a);c(d);return this},execute:function(a,b,c){return(new J.i.A(this,a,b)).Ba(c)},Y:function(){return h},q:function(){return s}}},{Abstract:{f:r(),
p:r()}});J.a("espresso.framework.ApplicationWorker",function(c){return{s:c.d,Gb:function(a,c){this[J.ma(a)]=c;return this},zb:function(a){return!!this[J.ma(a)]}}},{Abstract:{f:r()}});J.a("espresso.framework.data.DataModel",function(c){var a=o;return{ab:function(d){a=this;c.I(d,function(b,c){var d=a,j;j=b.replace(/(?:_|-)(\w)/g,function(a,b){return b.toUpperCase()}).replace(/^(\w)/,function(a,b){return b.toUpperCase()});d[["get",j].join("")]=function(){return c}});return this}}});var Q={},R=J.plugins;
R.r={create:function(c,a,d,b){var f=q,g,j,l,d=d||{};g=d.Va||{};j=d.Ta||{};b=b||J.qa("context");(a=a(O))[c]=function(){return this["@super"](c,g.bb||{},j,b)};l=J.copy(a.f);a.f=function(){if(f)return this;f=i;l.call(this,this.xa(),b);return this};a=new (J.a(c,function(){return a},{g:d.g||J.i.r,B:i},b));J.c("getInstance",J.Ga(a),b[c]);return Q[c]=a.sa(O.Fb(a.p,a))}};
R.s={create:function(c,a,d){var b=q,f=J.copy((a=a(O)).f);a.f=function(){if(b)return this;b=i;f.apply(this,arguments);return this};c=J.a(c,J.Ga(a),{g:(d=d||{}).g||J.i.s,L:d.L,B:i});J.c("getInstance",function(){return new this},c);return c}};R.n=function(c,a){return new J.i.n(c,a)};J.c("Application",R.r.create,J);J.c("ApplicationWorker",R.s.create,J);J.c("getApplication",function(c){return Q[c]||o},J);J.c("ProcessResult",R.n,J);