var i=!0,p=null,q=!1;function r(){return function(){}}
(function(c,a,d,b,g){function f(){return z.apply(this,arguments)}function n(e,a){if(!e)return e;for(var d=e instanceof Array?e:e.split("."),b=a||window,c;c=d.shift();)if(!b[c]||!(b=b[c]))b=b[c]={};return b}function j(e){function b(e,d){var c;a.map(d,function(a){c=c||a===e});return c}function d(e,a,c,h){var l,a=a||{},c=c||[],h=h||[],f;for(f in e)l=e[f],c.push(f),"object"==typeof l&&l!==g&&!b(l,h)?h.push(l)&&d(l,a,c,h)&&h.pop():a[c.join(".")]=l,c.pop();return a}return d(e)}function h(e){function d(e,
a){for(var b in e)"object"==typeof e[b]?d(e[b],a):e[b]="string"==typeof e[b]?m(e[b],a):e[b];return e}return d(a.extend(i,{},e),j(e))}function l(e,a,b){b=b||Q;if(a&&"undefined"==typeof b[e=e.toUpperCase()])b[e]=a;return b[e]}function o(e){return function(){return e}}function t(e,a){return e.replace(a?/^[a-z]/gi:/(?:\s|^)[a-z]/gi,function(e){return e.toUpperCase()})}function m(e,a){return e.replace(/{(.+?)}/g,function(e,b){return a[b]||""})}function A(e,a,b){return function(){return e.apply(b||this,
a||[])}}function D(e,a,b,d){var c=(e=e.split(".")).pop(),e=n(e,b);return d?e[c]=e[c.toUpperCase()]=e[t(c)]=a:e[c]=a}function w(){var e=arguments[0]||{},a=1,b=arguments.length,d=q,c;"boolean"===typeof e&&(d=e,e=arguments[1]||{},a=2);"object"!==typeof e&&!jQuery.zb(e)&&(e={});b==a&&(e=this,--a);for(;a<b;a++)if((c=arguments[a])!=p){for(var h in c){var l=e[h],f=c[h];e!==f&&(d&&f&&"object"===typeof f&&!f.nodeType?e[h]=w(d,l||(f.length!=p?[]:{}),f):void 0!==f&&(e[h]=f))}c.hasOwnProperty("toString")&&(e.toString=
c.toString);c.hasOwnProperty("valueOf")&&(e.valueOf=c.valueOf)}return e}function E(e,a){if(!e)return e;for(var b=e instanceof Array?e:e.split("."),c=a||window,d;d=b.shift();)if(c[d])c=c[d];else return q;return i}function B(a){return Array.prototype.slice.call(a||arguments.callee.caller.arguments)}function z(e,b,c){function d(){t.pop().apply(p,o)}function f(a){return a!=q?"false"!=a:!!a}function g(a,e,b){if("undefined"!=typeof a)if("string"==typeof a)try{if(!eval(a.replace(l("R_USE_NO_INVOKE"),"")))return e}catch(d){}else if(!a)return e;
return b}for(var j=a.extend(i,{},F.W,c||{}),t=[],o=[],e=a.map([].concat(e),function(e,c){var m=a.extend(i,{},j);e.replace(l("R_USE_ATTRS"),function(a,e){var b=e.split("=");m[b[0]]=b[1]||i});m=h(m);e=e.replace(l("R_USE_REMOVE_STAR"),"").replace(l("R_USE_PATH"),"$1");t.push(0==c?b||a.d:a.d);return g(m.pb,d,function(){var b=m.H||e,h=E(b),g=[(m.Ab||m.na).replace(l("R_USE_ADD_SLASH"),"/"),e.replace(l("R_USE_DOT"),"/").replace(l(f(m.prefix)?"R_USE_LAST_SLASH":"R_USE_NOTHING"),"/"+(m.prefix||"")+"$1"),f(m.version)?
m.Pa:"",f(m.Qa)?m.qa:"",f(m.Ia)?m.Ja:"",".js"].join("");o[c]=n(b);!m.ta&&(N[g]||h)&&!o[c].G?d():(o[c].G=i,a.ya(g,function(){o[c]=N[g]=n(b);o[c].G=void 0;delete o[c].G;x[b]?x[b].p=d:d()}))})});e.length;)e.shift()();return 1==o.length?o[0]:o}function K(a,b,c,d){throw Error(m(l("LOGGING_TPL"),{type:"ERROR",Ma:c,Da:a,method:b,message:d}));}function y(){Array.prototype.shift.call(arguments)>=F.debug.Ha&&(g.console&&g.console.log||a.d).apply(g.console||p,arguments)}function G(e){return!g.console?a.d:R?
g.console.log:e}var F=w(i,{qb:g,Y:void 0,Ba:a,Ca:q,sb:"prod",W:{na:"/",prefix:"",Ja:".min",Ia:q,qa:".all",version:"",Pa:"-{version}",Qa:q,H:"",ta:q},debug:{Ha:0}},b||{}),S={},Q={},N={},x={},H,R=/MSIE+/i.test(g.navigator.userAgent);l("LOGGING_TPL","[{type}] in {klass}#{method}: {task}: {message} - Espresso");l("R_FUNC_NAME",/(?:function\s+((?:\w|\$)+)(?:\n|.)*)|(?:\n|.)*/);l("R_USE_ATTRS",/@(\w*(?:=[^\s]*)*)/g);l("R_USE_REMOVE_STAR",/(?:\.\*)/);l("R_USE_PATH",/^([0-9A-Za-z.]*).*/);l("R_USE_NO_INVOKE",
/(?:\(+[^)]*\))|(?:[^= ]+=+[^;]+)/g);l("R_USE_ADD_SLASH",/\/$|$/);l("R_USE_DOT",/\./g);l("R_USE_LAST_SLASH",/\/(\w*)$/);l("R_USE_NOTHING",/^$/);c=D("espresso",c||{},this,i);!d&&(g.Y=f);a||K("espresso","#[main]","Checking jQuery Dependency","jQuery dependency not found");y.o=function(a){return function(){y.apply(p,[a||0].concat(Array.prototype.slice.call(arguments)))}};var u=c.lang={z:{create:n},m:{create:function(e,b,c){var d=(e=e.split(".")).pop();return n(e,c)[d]=function(){var e={};a.I(arguments,
function(a,b){e[a]=b});return Error(m(b,e))}}},a:{H:function(a,b,c,d){var h=(a=a.split(".")).pop();return n(a,d)[h]=function(a){c&&c(a);return new b(a)}},create:function(e,b,c,d){function h(){return function(c){if(j.B&&A)return A;if(!c&&!(this instanceof arguments.callee))return new arguments.callee;var d=b.apply(this,[a])||{},h;f=this;f.D=[];f.F=[];f.M=f.M||e;"string"==typeof t&&(t=n(t.replace(l("R_USE_PATH"),"$1")));o&&!c?K("espresso.lang.Class","create","Instantiating class","Cannot instantiate abstract class "+
e):t&&w(i,t.apply(this,[{C:d}])||{},d);if(c!==p&&"object"==typeof c&&c.C){for(h in o)"function"==typeof o[h]&&!c.C[h]&&K("espresso.lang.Class","create","Validating implementation of abstract class","Method "+e+"@"+h+" must be implemented.");f.D.push({Ea:d[m]||a.d,name:m});f.F.push(e);c.C["@parent"]=function(a){return d[a]?d[a].apply(d,Array.prototype.shift.apply(arguments)&&arguments):d[(""+arguments.callee.caller).replace(l("R_FUNC_NAME"),"$1")].apply(d,arguments)}}else{h=f.D;for(var g=[m],L=0;L<
h.length;++L)g.push(h[L].name);h=g;w(i,f,d)["@super"]=function(){return f.D.pop().Ea.apply(f,arguments)};(d[m]||a.d).apply(f,arguments);for(g=0;g<h.length;++g)delete f[h[g]];f.F.push(e);f.ka(f.F).ja(f.M).N(m).ia();j.B&&(A=f)}return w(i,f,d)}}var f,g=e?e.split("."):["[anonymous]"],m=g.pop(),j=c||{},o=j.Abstract,t=j.g||u.fa,c=[].concat("string"==typeof t?t:[],j.K||[]),A=p;c.length&&(x[e]=w(i,x[e]||{},{rb:c}),z(c,function(){x[e]&&x[e].p&&x[e].p();x[e]=p;delete x[e]}));return e?n(g,d)[m]=h():h()}},w:{create:function(e,
b){return u.a.create(e,a.d,{Abstract:b})}},L:{j:function(a,b,c){return z(a,"function"==typeof b?b:function(){H&&H.sa(b)},c)}}};u.a.create("espresso.lang.Object",function(a){var b,c;return{fa:r(),ka:function(a){c=a||[];return this},ja:function(a){b=a;return this},N:function(a){this[a]=void 0;delete this[a];return this},ia:function(){for(var a="__parents__ __setParents __constructors__ __classID__ __setClassID @super __cleanAll __clean".split(" "),b;b=a.shift();)this.N(b);return this},va:function(){return b},
V:function(b){return-1<a.yb("string"==typeof b?b:b.va(),c)}}});a.I({"espresso.constant":function(a,b){return l(a,b,S)},"espresso.jQuery":a,"espresso.$":a,"espresso.load":a.ya,"espresso.log":G(y),"espresso.debug":G(y.o(0)),"espresso.warn":G(y.o(1)),"espresso.error":G(y.o(2)),"espresso.trace":G(y.o(3)),"espresso.report":function(a,b,c,d,h){y(m(l("LOGGING_TPL"),{type:a,Ma:d,Da:b,method:c,message:h}))},"espresso.args":B,"espresso.curry":A,"espresso.copy":function(a){return function(){return a.apply(this,
arguments)}},"espresso.lambda":o,"espresso.vector":function(){var a=[];c.ba.I(B(),function(b,c){a[c[0]]=c[1]});return a},"espresso.reflect":A(j,[c]),"espresso.ready":function(){1==arguments.length?a(arguments[0]):(H||(H=new c.Oa.ca({P:i}))).Ga.apply(H,arguments)},"espresso.die":function(a){if(1<arguments.length)K.apply(p,arguments);else throw Error(a);},"espresso.flatten":j,"espresso.which":function(){for(var a=0;a<arguments.length;++a)if(arguments[a])return arguments[a]},"espresso.extend":w,"espresso.substitute":m,
"espresso.capitalize":t,"espresso.trim":function(a){return a.replace(/^\s*|\s*$/g,"")},"espresso.objectExists":E,"espresso.instanceOf":function(a,b){return a.V&&a.V(b)},"espresso.config":function(b){b="string"==typeof b?j(F)[b]:b?a.extend(i,F,b):a.extend(i,{},F);b.Ca&&a.Cb(i);return b},"espresso.parseConfig":h,"espresso.require":u.L.j,"espresso.use":u.L.j,"espresso.version":o("0.4.5"),"espresso.Static":D,"espresso.Class":function(){"string"!=typeof arguments[0]&&Array.prototype.unshift.apply(arguments,
[p]);return u.a.create.apply(u.a,arguments)},"espresso.Namespace":u.z.create,"espresso.Package":u.z.create,"espresso.Error":u.m.create,"espresso.Alias":u.a.H,"espresso.Interface":u.w.create,"espresso.plugins":{}},D)})(this.k,this.Ba,this.Y,this.U,this);var s=this.k;s.c("espresso.util.Config.DefaultEnvironments",{cb:"prod",Va:"dev"});s.c("espresso.util.Config.LoggingLevels",{Ua:0,mb:1,ab:2});var v=this.k;v.w("espresso.util.TwoDIterator",{left:r(),right:r(),Z:r(),R:r(),$:r(),aa:r(),S:r(),T:r()});
v.a("espresso.util.EventManager",function(c){function a(a,b){var c=new v.b.t(b);d.put(a,c);return c}var d,b,g={P:q};return{ca:function(a){c.extend(g,a);d=new v.b.u;b=new v.b.u},Ga:function(c,n,j){var h=d.get(c);h?(h.add(n,j),g.P&&h.za()&&(c=b.get(c),h.flush(c.O,c.scope))):a(c,n);return this},sa:function(c,g,j,h){var l=d.get(c);l||(l=a(c));l.flush(g,j,h);b.put(c,{O:g,scope:j});return this}}});var C=this.k;function I(){}C.w("espresso.collections.List",{add:I,get:I,remove:I,size:I,l:I});
C.a("espresso.collections.LinkedList",function(){var c;return{e:function(a){c=a||[]},size:function(){return c.length},add:function(a,d){if(d==p)return c.push(a),this.size()-1;if(0>d||d>=_size())throw new C.b.e.v(d);c.splice(d,0,a);return d},get:function(a){if(0>a||a>=this.size())throw new C.b.e.v(a);return c[a]},replace:function(a,d){if(0>d||d>=this.size())throw new C.b.e.v(d);c[d]=a},remove:function(a){if(0>a||a>=this.size())throw new C.b.e.v(a);c.splice(a,1)},tb:function(){if(this.l())throw new C.b.e.ea;
return this.get(0)},vb:function(){if(this.l())throw new C.b.e.ea;return this.get(this.size()-1)},l:function(){return 0==this.size()},clear:function(){var a=this.size();0<a&&c.splice(0,a)},Na:function(){return c.slice(0)},Q:function(){return new C.b.e(this.l()?p:this.Na())}}},{g:C.b.da});C.m("espresso.collections.LinkedList.IndexOutOfBoundsException","Index {0} out of bounds on espresso.collections.LinkedList object");C.m("espresso.collections.LinkedList.NoSuchElementException","No such element exists on espresso.collections.LinkedList object.");
C.a("espresso.collections.SparsedMatrix",function(){function c(a,c,d){var f=[a,c].join();n[f]||++j;return n[f]=new b(a,c,d||p)}function a(a,b){function d(a,b){return function(){return n[[a,b].join()]||c(a,b)}}f={Z:d(a,b-1),left:d(a-1,b),R:d(a,b+1),right:d(a+1,b),aa:d(a+1,b-1),$:d(a-1,b-1),T:d(a+1,b+1),S:d(a-1,b+1),h:d(a,b)}}function d(a){return function(){return g.move.call(g,a)}}function b(a,b,c){this.x=a;this.y=b;this.data=c}var g,f,n,j;return{hb:function(){g=this.clear()},get:function(a,b){return 0==
arguments.length?f.h().data:(n[[a,b].join()]||c(a,b)).data},set:function(b,d,g){var j;1>=arguments.length?(g=arguments[0],j=f.h(),b=j.x,d=j.y):a(b,d);c(b,d,g);return this},clear:function(){n={};j=0;a(0,0);return this},length:function(){return j},position:function(){var a=f.h();return{x:a.x,y:a.y}},move:function(b,c){var d;1==arguments.length&&(d=f[arguments[0]](),b=d.x,c=d.y);a(b,c);return this},toString:function(){var a=[],b;for(b in a)a.push("{"+b+"}");return["Length: "+j,"Iterator: "+(j?"{"+f.h().x+
","+f.h().y+"}":"null"),"Nodes: "+a.join(", ")].join("\n")},debug:function(a){a&&(a("Length",j),a("Iterator",j?{x:f.h().x,y:f.h().y}:p),a("Nodes",n))},Z:d("up"),left:d("left"),R:d("down"),right:d("right"),aa:d("upright"),$:d("upleft"),T:d("downright"),S:d("downleft")}},{g:C.Oa.ib});C.c("espresso.collections.SparsedMatrix.DirectionsEnum",{jb:"up",bb:"left",Wa:"down",gb:"right",kb:"upleft",lb:"upright",Xa:"downleft",Ya:"downright"});
C.a("espresso.collections.HashMap",function(){var c={},a,d;return{u:function(){var b=C.b.e;a=new b;d=new b;return this},put:function(b,g){if(c[b])d.replace(g,c[b]);else{var f=a.add(b);d.add(g);c[b]=f}return g},add:function(a,c){return this.put(a,c)},get:function(a){a=c[a];return a==p?p:d.get(a)},remove:function(b){if(!c[b])return this;var g=c[b];delete c[b];a.remove(g);d.remove(g);return this},clear:function(){for(var b in c)delete c[b];a.clear();d.clear()},ub:function(){return a.Q()},wb:function(){return d.Q()},
size:function(){return a.size()},l:function(){return 0==this.size()}}},{g:C.b.da});
C.a("espresso.collections.EventQueue",function(){function c(b){if(a.length)return a[b]()();throw new C.b.t.eb;}var a,d=q;return{t:function(b){a=[];this.add(b)},add:function(b,c){if(b instanceof Array)for(var d=0;d<b.length;++d)this.add(b[d]);else if("function"==typeof b)a[c?"unshift":"push"](b);return this},flush:function(b,c,f){var n=a;for(f&&(n=[].concat(a));f=n.shift();)f.apply(c,b instanceof Array?b:[b]);d=i;return this},step:function(){return c("shift")},pop:function(){return c("pop")},length:function(){return a.length},
za:function(){return d}}});C.m("espresso.collections.EventQueue.QueueDepletedException","The queue is empty. Nothing to execute.");var J=this.k,M=J.ba;J.a("espresso.framework.Session",function(){return{ha:r()}});
J.a("espresso.framework.Process",function(c){var a,d,b,g,f;return{A:function(c,j,h){f=this;d=j;b=h;g=c;a=g.X().add(this)},Aa:function(a){var j;g.ua((d=d.split(".")).shift(),function(h){a=a||{};h=J.z(d.join("."),h)||h;j=h[b].apply(h,[].concat(a.O||[]))||new J.i.n;j.J(f);j.state(J.i.A.Sa);(a.ob||c.d)(j);g.X().remove(this)});return j},path:function(){return d},oa:function(){return b},toString:function(){return""+a},valueOf:function(){return 1*a}}});J.c("espresso.framework.Process.READY",0);
J.c("espresso.framework.Process.COMPLETE",1);J.a("espresso.framework.collections.Processes",function(){var c,a;return{ga:function(){c={};a=[]},add:function(d){var b=a.push([d.path(),d.oa()]);c[b]=d;return b},remove:function(a){c[a]=void 0;delete c[a]}}});
J.a("espresso.framework.ProcessResult",function(){function c(c,b){return a[c]="undefined"!=typeof b?b:a[c]}var a={};return{n:function(a,b){b=b||{};this.value(a);this.state(b.state||J.i.A.fb);this.q(b.q);this.assert(b.assert);this.J(b.J)},value:function(a){return c("value",a)},state:function(d){return c("state",d||a.value)},J:function(a){return c("process",a)},q:function(c){J.extend(a,{q:c});return this},assert:function(c,b){J.extend(a,{assert:[c,b]});return this}}});
J.a("espresso.framework.Application",function(c){function a(a,d){return b.j(n.get(a),function(f){(d||c.d)(f.xa().f(b,J.Ka(o.nb[a])))})}function d(){j.length()&&j.flush()}var b,g,f,n,j,h,l,o={};return{r:function(d,m,o,D){var w=J.b,E=J.i;g=d;f=D;n=new w.u;j=new w.t;l=new E.ha;h=new E.b.ga;b=this.La(m);var d=J.Ka(o||{}),m=d.Fb,B;for(B in m)n.put(B,m[B]);if(d.la){var z=d.la;b.j(c.map(z,function(a){return n.get(a)}),function(){c.map(z,function(b){a(b)});b.f()})}else b.f();return this},La:function(a){var b=
this.getContext().U,b=J.extend(i,(a||{}).k,this.getContext().U);J.pa(b);J.extend(i,o,b||{},a);return this},getContext:function(){return f},wa:function(){return o},getName:function(){return g},Bb:function(b,c){a(b,c);return this},ua:function(b,c){var d=a(b,c);return"function"==typeof d?d.xa():p},j:function(a,b,c){return J.j(a,b,c||o.W)},ra:function(a){j.add(a);c(d);return this},execute:function(a,b,c){return(new J.i.A(this,a,b)).Aa(c)},X:function(){return h},q:function(){return l}}},{Abstract:{f:r(),
p:r()}});J.a("espresso.framework.ApplicationWorker",function(c){return{s:c.d,Eb:function(a,c){this[J.ma(a)]=c;return this},xb:function(a){return!!this[J.ma(a)]}}},{Abstract:{f:r()}});J.a("espresso.framework.data.DataModel",function(c){var a=p;return{Za:function(d){a=this;c.I(d,function(b,c){var d=a,n;n=b.replace(/(?:_|-)(\w)/g,function(a,b){return b.toUpperCase()}).replace(/^(\w)/,function(a,b){return b.toUpperCase()});d[["get",n].join("")]=function(){return c}});return this}}});var O={},P=J.plugins;
P.r={create:function(c,a,d,b){var g=q,f,n,j,d=d||{};f=d.Ta||{};n=d.Ra||{};b=b||J.pa("context");(a=a(M))[c]=function(){return this["@super"](c,f.$a||{},n,b)};j=J.copy(a.f);a.f=function(){if(g)return this;g=i;j.call(this,this.wa(),b);return this};a=new (J.a(c,function(){return a},{g:d.g||J.i.r,B:i},b));J.c("getInstance",J.Fa(a),b[c]);return O[c]=a.ra(M.Db(a.p,a))}};
P.s={create:function(c,a,d){var b=q,g=J.copy((a=a(M)).f);a.f=function(){if(b)return this;b=i;g.apply(this,arguments);return this};c=J.a(c,J.Fa(a),{g:(d=d||{}).g||J.i.s,K:d.K,B:i});J.c("getInstance",function(){return new this},c);return c}};P.n=function(c,a){return new J.i.n(c,a)};J.c("Application",P.r.create,J);J.c("ApplicationWorker",P.s.create,J);J.c("getApplication",function(c){return O[c]||p},J);J.c("ProcessResult",P.n,J);